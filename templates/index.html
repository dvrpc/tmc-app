<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>TMC Summarizer</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="{{ url_for('static',filename='assets/css/main.css') }}" />
		<link rel="stylesheet" href="{{ url_for('static',filename='assets/css/custom.css') }}" />
		<noscript><link rel="stylesheet" href="{{ url_for('static',filename='assets/css/noscript.css') }}" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Sidebar -->
			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#intro">About</a></li>
							<li><a href="#one">Input File Format</a></li>
							<li><a href="#two">Output File Format</a></li>
							<li><a href="#three">Upload Your Data</a></li>
						</ul>
					</nav>
				</div>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						<div class="inner">
							<h1>TMC Summarizer</h1>
							<p>Summarize many turning movement count (TMC) files into a single output, featuring:</p> 
							<ul>
								<li>a list with each location (and associated metadata)</li>
								<li>peak hour volumes</li>
								<li>percent heavy vehicles</li>
								<li>all raw data</li>
							</ul>
							</p>
							<p>To use this tool:</p>
							<ul>
								<li>Provide a name for your project</li>
								<li>Select your TMC files and submit</li>
								<li><span style="font-style: italic;">... wait a few moments while your files upload to the server ...</span></li>	
								<li>After the upload completes, processing takes ~4 seconds</li>
								<li>Your summary file will automatically download</li>
							</ul>
								
								
							</p>
							<ul class="actions">
								<li><a href="#three" class="button scrolly">Get Started</a></li>
							</ul>
						</div>
					</section>

				<!-- One -->
					<section id="one" class="wrapper style2 spotlights">
						<section> 
							<a href="#" class="image"><img src="{{ url_for('static',filename='assets/images/info_tab.png') }}" alt="" /></a>
							<div class="content">
								<div class="inner">
									<h2>INFORMATION tab</h2>
									<p>This tab should contain the following information:</p>
									<ul>
										<li>Location title (cell B1)</li>
										<li>Name of all four intersection legs (cells B2:B5)</li>
										<li>Date of count (cell E2)</li>
										<li>Start and end time of count (cells E3:E4)</li>
									</ul>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="{{ url_for('static',filename='assets/images/data_tab.png') }}" alt="" data-position="25% " /></a>
							<div class="content">
								<div class="inner">
									<h2>VEHICLE tabs</h2>
									<p>There are three data tabs that share the same format: Light, Heavy, and Total</p>
									<p>Each provides all movements, rolled up to 15-minute blocks</p>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="{{ url_for('static',filename='assets/images/filenames.png') }}" alt="" data-position="25% 25%" /></a>
							<div class="content">
								<div class="inner">
									<h2>Other considerations</h2>
									<ul>
										<li>Filetype is <span class="code_snip">.xls</span></li>
										<li>Naming convention is <span class="code_snip">ID_placename.xls</span></li>
										<li>The <span class="code_snip">ID</span> before the underscore is an integer</li>
										<li>Manually modified TMC files could cause the script to fail</li>
									</ul>
								</div>
							</div>
						</section>
					</section>

				<!-- Two -->
					<section id="two" class="wrapper style3 fade-up">
						<div class="inner">
							<h2>Output File Format</h2>
							<div class="features">
								<section>
									<span class="icon solid major fa-car"></span>
									<h3>SUMMARY tab</h3>
									<p>This tab lists each location in a single row. Columns include attributes
										like location name, date, time, intersection legs, AM & PM peak hours,
										and data filepath.
									</p>
								</section>
								<section>
									<span class="icon solid major fa-search"></span>
									<h3>DETAIL tab</h3>
									<p>This tab has four rows for each location: total
										volumes and percent heavy vehicles for both the
										AM and PM peak hours. Columns break down these
										numbers by turning movement.
									</p>
								</section>
								<section>
									<span class="icon solid major fa-database"></span>
									<h3>RAW DATA tabs</h3>
									<p>For both data portability and QAQC purposes, the raw
										data for each location is written to its own tab.
									</p>
								</section>
								<section>
									<span class="icon solid major fa-map"></span>
									<h3>Roadmap</h3>
									<p>Please provide feedback on the summary file contents and format. Planned
										improvements include adding geocoding of count locations to provide a shapefile download
										and interactive web map.
									</p>
								</section>
							</div>
						</div>
					</section>

				<!-- Three -->
					<section id="three" class="wrapper style1 fade-up">
						<div class="inner">
							<h2>Upload Your Data </h2>
							<p>You can use this as a one-off or persistent tool:</p>
							<ul>
								<li>Use a unique project name if you want to limit the
									summary to only the files you select</li>
								<li>Use the same project name if you want to load TMC
									files across multiple browser sessions
								</li>
							</ul> 
							<div class="style1">
								<section>
									<form method="post" action="/uploader" enctype="multipart/form-data">
										<div class="fields">

											<div class="field half">
												<label for="project">Project Name</label>
												<input type="text" name="project" id="project" />
											</div>

											<div class="field half">
												<label for="files">TMC Files</label>
												<input type="file" name="files" id="files" multiple />
											</div>
											<div class="field half">
												<label for="geocode_helper">Geocoding helper, e.g. Bristol PA</label>
												<input type="text" name="geocode_helper" id="geocode_helper" />
											</div>
										</div>
										<ul class="actions">
											<input type = "submit"/>
										</ul>
									</form>
								</section>

							</div>
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					This tool was built using:<br/>
					<ul class="menu">
						<li>Python</li>
						<li>Pandas</li>
						<li>Flask</li>
						<li>html5up</li>
						<li>CLI & Desktop GUI versions are also available</li>
					</ul>

				</div>
			</footer>

		<!-- Scripts -->
			<script src="{{ url_for('static',filename='assets/js/jquery.min.js') }}"></script>
			<script src="{{ url_for('static',filename='assets/js/jquery.scrollex.min.js') }}"></script>
			<script src="{{ url_for('static',filename='assets/js/jquery.scrolly.min.js') }}"></script>
			<script src="{{ url_for('static',filename='assets/js/browser.min.js') }}"></script>
			<script src="{{ url_for('static',filename='assets/js/breakpoints.min.js') }}"></script>
			<script src="{{ url_for('static',filename='assets/js/util.js') }}"></script>
			<script src="{{ url_for('static',filename='assets/js/main.js') }}"></script>

	</body>
</html>